(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{"62a9":function(e,s,o){"use strict";o.r(s);var t=function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("q-page",{attrs:{padding:""}},[o("div",{staticClass:"text-h5 q-my-md"},[e._v("\n    Courses to Offer in Current Session\n  ")]),o("q-form",{staticClass:"row q-col-gutter-md",on:{submit:e.updateOfferedCourses,reset:e.resetForm}},[o("course-picker",{attrs:{classes:"col-12",label:"Course(s) to Offer",multiple:"",required:""},model:{value:e.coursesToOffer,callback:function(s){e.coursesToOffer=s},expression:"coursesToOffer"}}),o("div",{staticClass:"col-12"},[e.contentChanged?o("q-btn",{attrs:{label:"Update",color:"primary",unelevated:"",loading:e.editLoading,type:"submit"}}):o("q-btn",{attrs:{label:"Confirm",color:"green",unelevated:"",loading:e.confirmLoading},on:{click:e.confirmOfferedCourses}}),e.contentChanged?o("q-btn",{attrs:{label:"Reset",flat:"",color:"primary",type:"reset"}}):e._e()],1)],1),o("q-inner-loading",{attrs:{showing:e.oldDataLoading}})],1)},r=[],n=o("29b9"),a=o("88f5"),i=o("b2c5"),c=o("0286"),f={name:"OfferCourses",title:"Courses to Offer",components:{CoursePicker:n["a"]},mixins:[a["a"]],data(){return{coursesToOffer:[],saveLoading:!1,confirmLoading:!1}},computed:{contentChanged(){const e=Object(i["a"])(this.coursesToOffer);return!Object(c["b"])(this.oldData.coursesToOffer,e)}},methods:{updateOfferedCourses(){const e=Object(i["a"])(this.coursesToOffer);this.callEditApi("/currentSession/update/coursesToOffer",{coursesToOffer:e},"Offered Course Choices").then((()=>{this.oldData.coursesToOffer=e})).catch((()=>{}))},confirmOfferedCourses(){this.confirmLoading=!0,this.$adminAPI.post("/currentSession/newCourseSessionsBatch",{coursesToOffer:Object(i["a"])(this.coursesToOffer)}).then((()=>{this.confirmLoading=!1,this.$q.notify({message:"Offered Course Choices Confirmed Successfully",type:"positive"})})).catch((()=>{this.confirmLoading=!1,this.$q.notify({message:"Failed to Confirm Offered Course Choices",type:"negative"})}))},resetForm(){this.loadOldDataIntoForm()}},created(){this.fetchOldData("/currentSession/coursesToOffer",null,"Offered Courses",1).catch((()=>{}))}},u=f,d=o("2877"),l=o("9989"),m=o("0378"),h=o("9c40"),O=o("74f7"),p=o("eebe"),C=o.n(p),g=Object(d["a"])(u,t,r,!1,null,null,null);s["default"]=g.exports;C()(g,"components",{QPage:l["a"],QForm:m["a"],QBtn:h["a"],QInnerLoading:O["a"]})}}]);