(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{aa92:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[n("div",{staticClass:"text-h5 q-my-md"},[e._v("\n    Assign Fines\n  ")]),n("div",{staticClass:"row q-col-gutter-md q-pb-sm"},[n("q-select",{staticClass:"col-6",attrs:{label:"Fine Type",outlined:"",options:e.fineOptions,rules:[function(){return!!e.fineType||"Please Select Fine Type"}]},model:{value:e.fineType,callback:function(t){e.fineType=t},expression:"fineType"}})],1),e.fineType?n("q-form",{staticClass:"row q-col-gutter-md",on:{submit:e.assignFine,reset:e.resetForm}},[n("q-select",{staticClass:"col-12",attrs:{label:"Student ID(s)",multiple:"","use-chips":"","use-input":"",clearable:"","new-value-mode":"add-unique",outlined:"",rules:[function(){return!!e.ids&&e.ids.length>0||"Please Enter at least one Student ID"}]},model:{value:e.ids,callback:function(t){e.ids=t},expression:"ids"}}),n("q-input",{staticClass:"col-6",attrs:{label:"Amount",type:"number",min:"0",outlined:"",rules:[function(){return!!e.amount||"Please Enter Fine Amount"},e.noNegative(e.amount)]},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}),n("q-input",{staticClass:"col-6",attrs:{label:"Deadline",outlined:"",mask:"date",rules:["date"]},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{model:{value:e.deadline,callback:function(t){e.deadline=t},expression:"deadline"}},[n("div",{staticClass:"row items-center justify-end"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,1699857427),model:{value:e.deadline,callback:function(t){e.deadline=t},expression:"deadline"}}),n("q-input",{staticClass:"col-6",attrs:{label:"Delay Fine "+(e.fineType===e.FINE_TYPES.LIBRARY_FINE?"(Per Day)":""),type:"number",min:"0",outlined:"",rules:[function(){return!!e.delayFine||"Please Enter Delay Fine"},e.noNegative(e.delayFine)]},model:{value:e.delayFine,callback:function(t){e.delayFine=t},expression:"delayFine"}}),n("q-input",{staticClass:"col-12",attrs:{label:"Description"+(e.descTooLong?" ("+e.description.length+"/"+e.descLimit+")":""),outlined:"",autogrow:"",rules:[function(){return!!e.description||"Please provide a reason for this Fine"},function(){return!e.descTooLong||"Maximum "+e.descLimit+" characters allowed"}]},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),n("div",{staticClass:"col-12"},[n("q-btn",{attrs:{label:"Assign",color:"primary",unelevated:"",type:"submit",loading:e.createLoading}}),n("q-btn",{attrs:{label:"Reset",color:"primary",flat:"",type:"reset"}})],1)],1):e._e()],1)},s=[],a=(n("e01a"),n("c9d9")),l=n("7338"),o=n("0286"),r=n("6308"),c={name:"FineAssignment",title:"Assign Fines",mixins:[l["a"]],data(){return{fineType:null,ids:null,amount:null,deadline:null,delayFine:null,description:null,descLimit:200,FINE_TYPES:a["c"],fineOptions:r["b"]}},computed:{descTooLong(){return!!this.description&&this.description.length>this.descLimit}},methods:{noNegative:o["c"],assignFine(){this.callCreateApi("/fine/assign",{fineType:this.fineType,ids:this.ids,amount:this.amount,deadline:new Date(this.deadline),delayFine:this.delayFine,description:this.description},"Fine").catch((()=>{}))},resetForm(){this.ids=null,this.amount=null,this.deadline=null,this.delayFine=null,this.description=null}}},d=c,u=n("2877"),p=n("9989"),m=n("ddd8"),f=n("0378"),y=n("27f9"),b=n("0016"),h=n("7cbe"),F=n("52ee"),g=n("9c40"),v=n("7f67"),q=n("eebe"),T=n.n(q),w=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=w.exports;T()(w,"components",{QPage:p["a"],QSelect:m["a"],QForm:f["a"],QInput:y["a"],QIcon:b["a"],QPopupProxy:h["a"],QDate:F["a"],QBtn:g["a"]}),T()(w,"directives",{ClosePopup:v["a"]})}}]);