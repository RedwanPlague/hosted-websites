(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{"1fe6":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"q-pa-md"},[s("q-card",{staticClass:"bg-grey-2",attrs:{bordered:""}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[s("p",[s("strong",[e._v("Registered Students")])])])]),s("q-separator"),s("q-card-section",[s("div",{staticClass:"q-gutter-sm"},e._l(e.getRegistrations.filter((function(e){return"registered"===e.status})),(function(t){return s("q-btn",e._b({key:t.id,staticClass:"bg-primary text-white",attrs:{flat:""},nativeOn:{click:function(s){e.selectedAdvisee=t,e.onAdviseeWithoutApprovalOptionClick()}}},"q-btn",t,!1),[e._v("\n            "+e._s(t.id)+"\n          ")])})),1)])],1),s("br"),s("q-card",{staticClass:"bg-grey-2",attrs:{bordered:""}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[s("p",[s("strong",[e._v("Waiting for Head's Approval")])])])]),s("q-separator"),s("q-card-section",[s("div",{staticClass:"q-gutter-sm"},e._l(e.getRegistrations.filter((function(e){return"waiting"===e.status})),(function(t){return s("q-btn",e._b({key:t.id,staticClass:"bg-primary text-white",attrs:{flat:""},nativeOn:{click:function(s){e.selectedAdvisee=t,e.onAdviseeWithoutApprovalOptionClick()}}},"q-btn",t,!1),[e._v("\n            "+e._s(t.id)+"\n          ")])})),1)])],1),s("br"),s("q-card",{staticClass:"bg-grey-2",attrs:{bordered:""}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[s("p",[s("strong",[e._v("Waiting for Advisor's Approval")])])])]),s("q-separator"),s("q-card-section",[s("div",{staticClass:"q-gutter-sm"},e._l(e.getRegistrations.filter((function(e){return"applied"===e.status})),(function(t){return s("q-btn",e._b({key:t.id,staticClass:"bg-primary text-white",attrs:{flat:""},nativeOn:{click:function(s){e.selectedAdvisee=t,e.onAdviseeWithApprovalOptionClick()}}},"q-btn",t,!1),[e._v("\n            "+e._s(t.id)+"\n          ")])})),1)])],1),s("br"),s("q-card",{staticClass:"bg-grey-2",attrs:{bordered:""}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[s("p",[s("strong",[e._v("Not Applied for Registration")])])])]),s("q-separator"),s("q-card-section",[s("div",{staticClass:"q-gutter-sm"},e._l(e.getRegistrations.filter((function(e){return"unregistered"===e.status})),(function(t){return s("q-btn",e._b({key:t.id,staticClass:"bg-primary text-white",attrs:{flat:""},nativeOn:{click:function(s){e.selectedAdvisee=t,e.onAdviseeWithoutApprovalOptionClick()}}},"q-btn",t,!1),[e._v("\n            "+e._s(t.id)+"\n          ")])})),1)])],1),s("q-dialog",{attrs:{"full-width":""},model:{value:e.adviseeWithApprovalOptionDialogBox,callback:function(t){e.adviseeWithApprovalOptionDialogBox=t},expression:"adviseeWithApprovalOptionDialogBox"}},[s("q-card",{staticClass:"q-pa-md"},[s("q-card-section",[s("div",{staticClass:"text-h6"},[s("p",[s("strong",[e._v("Student ID:")]),e._v(" "+e._s(e.selectedAdvisee.id)+"\n            ")]),s("p",[s("strong",[e._v("Name:")]),e._v(" "+e._s(e.selectedAdvisee.name)+"\n            ")]),s("p",[s("strong",[e._v("Level/Term:")]),e._v(" "+e._s(e.selectedAdvisee.level)+"/"+e._s(e.selectedAdvisee.term)+"\n            ")]),s("p",[s("strong",[e._v("Department:")]),e._v(" "+e._s(e.selectedAdvisee.department)+"\n            ")])]),s("q-table",{attrs:{title:"Courses",dense:"",bordered:"",data:e.specificRegistrations,columns:e.courseColumns,"row-key":"courseID"}})],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-secondary text-white",attrs:{flat:"",label:"Approve"},on:{click:e.approve}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-secondary text-white",attrs:{flat:"",label:"Reject"},on:{click:e.reject}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-primary text-white",attrs:{flat:"",label:"Back"}})],1)],1)],1),s("q-dialog",{attrs:{"full-width":""},model:{value:e.adviseeWithoutApprovalOptionDialogBox,callback:function(t){e.adviseeWithoutApprovalOptionDialogBox=t},expression:"adviseeWithoutApprovalOptionDialogBox"}},[s("q-card",{staticClass:"q-pa-md"},[s("q-card-section",[s("div",{staticClass:"text-h6"},[s("p",[s("strong",[e._v("Student ID:")]),e._v(" "+e._s(e.selectedAdvisee.id)+"\n            ")]),s("p",[s("strong",[e._v("Name:")]),e._v(" "+e._s(e.selectedAdvisee.name)+"\n            ")]),s("p",[s("strong",[e._v("Level/Term:")]),e._v(" "+e._s(e.selectedAdvisee.level)+"/"+e._s(e.selectedAdvisee.term)+"\n            ")]),s("p",[s("strong",[e._v("Department:")]),e._v(" "+e._s(e.selectedAdvisee.department)+"\n            ")])]),s("q-table",{attrs:{title:"Courses",dense:"",bordered:"",data:e.specificRegistrations,columns:e.courseColumns,"row-key":"courseID"}})],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-primary text-white",attrs:{flat:"",label:"Back"}})],1)],1)],1)],1)])},a=[],r=s("ded3"),o=s.n(r),c=s("2f62"),n=s("758b");const l="/teacher/advisor";var d={name:"AdviseeCourseRegistrationPage",data(){return{courseColumns:[{name:"courseID",required:!0,label:"Course ID",align:"left",field:e=>e.courseID,format:e=>`${e}`,sortable:!0},{name:"syllabusID",align:"left",label:"Syllabus ID",field:"syllabusID",sortable:!0},{name:"title",align:"left",label:"Course Title",field:"title",sortable:!0},{name:"credit",align:"left",label:"Credit Hours",field:"credit",format:e=>`${e.toFixed(2)}`,sortable:!0},{name:"status",align:"left",label:"Status",field:"status",sortable:!0}],selectedAdvisee:{},specificRegistrations:[],adviseeWithApprovalOptionDialogBox:!1,adviseeWithoutApprovalOptionDialogBox:!1}},methods:o()(o()({},Object(c["b"])(["fetchRegistrations","fetchSpecificRegistrations"])),{},{generateSpecificRegistrations(){this.specificRegistrations=[];for(let e=0;e<this.$store.getters.getSpecificRegistrations.length;e++)this.specificRegistrations[e]={courseID:this.$store.getters.getSpecificRegistrations[e].courseSession.course.courseID,syllabusID:this.$store.getters.getSpecificRegistrations[e].courseSession.course.syllabusID,title:this.$store.getters.getSpecificRegistrations[e].courseSession.course.title,credit:this.$store.getters.getSpecificRegistrations[e].courseSession.course.credit,status:this.$store.getters.getSpecificRegistrations[e].status}},async onAdviseeWithApprovalOptionClick(){try{await this.fetchSpecificRegistrations({id:this.selectedAdvisee.id,level:this.selectedAdvisee.level,term:this.selectedAdvisee.term}),this.generateSpecificRegistrations()}catch(e){console.log(e)}this.adviseeWithApprovalOptionDialogBox=!0},async onAdviseeWithoutApprovalOptionClick(){try{await this.fetchSpecificRegistrations({id:this.selectedAdvisee.id,level:this.selectedAdvisee.level,term:this.selectedAdvisee.term}),this.generateSpecificRegistrations()}catch(e){console.log(e)}this.adviseeWithoutApprovalOptionDialogBox=!0},async approve(){try{await n["b"].patch(l+"/registrations/"+this.selectedAdvisee.id+"/approve"),await this.fetchRegistrations()}catch(e){console.log(e)}},async reject(){try{await n["b"].patch(l+"/registrations/"+this.selectedAdvisee.id+"/reject"),await this.fetchRegistrations()}catch(e){console.log(e)}}}),computed:Object(c["c"])(["getRegistrations","getSpecificRegistrations"]),async created(){try{await this.fetchRegistrations()}catch(e){console.log(e)}}},p=d,v=s("2877"),g=s("9989"),u=s("f09f"),f=s("a370"),h=s("eb85"),b=s("9c40"),m=s("24e8"),A=s("eaac"),_=s("4b7e"),q=s("7f67"),C=s("eebe"),y=s.n(C),R=Object(v["a"])(p,i,a,!1,null,"3f9a670d",null);t["default"]=R.exports;y()(R,"components",{QPage:g["a"],QCard:u["a"],QCardSection:f["a"],QSeparator:h["a"],QBtn:b["a"],QDialog:m["a"],QTable:A["a"],QCardActions:_["a"]}),y()(R,"directives",{ClosePopup:q["a"]})}}]);