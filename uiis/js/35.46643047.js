(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{aa92:function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("q-page",{attrs:{padding:""}},[t("div",{staticClass:"text-h5 q-my-md"},[e._v("\n    Assign Fines\n  ")]),t("div",{staticClass:"row q-col-gutter-md q-pb-sm"},[t("q-select",{staticClass:"col-6",attrs:{label:"Fine Type",outlined:"",options:e.fineOptions,rules:[function(){return!!e.fineType||"Please Select Fine Type"}]},model:{value:e.fineType,callback:function(n){e.fineType=n},expression:"fineType"}})],1),e.fineType?t("q-form",{staticClass:"row q-col-gutter-md",on:{submit:e.assignFine,reset:e.resetForm}},[t("q-select",{staticClass:"col-12",attrs:{label:"Student ID(s)",multiple:"","use-chips":"","use-input":"",clearable:"","new-value-mode":"add-unique",outlined:"",rules:[function(){return!!e.ids&&e.ids.length>0||"Please Enter at least one Student ID"}]},model:{value:e.ids,callback:function(n){e.ids=n},expression:"ids"}}),t("q-input",{staticClass:"col-6",attrs:{label:"Amount",type:"number",min:"0",outlined:"",rules:[function(){return!!e.amount||"Please Enter Fine Amount"},e.noNegative(e.amount)]},model:{value:e.amount,callback:function(n){e.amount=n},expression:"amount"}}),t("q-input",{staticClass:"col-6",attrs:{label:"Deadline",outlined:"",mask:"date",rules:["date"]},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{model:{value:e.deadline,callback:function(n){e.deadline=n},expression:"deadline"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,1699857427),model:{value:e.deadline,callback:function(n){e.deadline=n},expression:"deadline"}}),t("q-input",{staticClass:"col-6",attrs:{label:"Delay Fine "+(e.fineType===e.FINE_TYPES.LIBRARY_FINE?"(Per Day)":""),type:"number",min:"0",outlined:"",rules:[function(){return!!e.delayFine||"Please Enter Delay Fine"},e.noNegative(e.delayFine)]},model:{value:e.delayFine,callback:function(n){e.delayFine=n},expression:"delayFine"}}),t("q-input",{staticClass:"col-12",attrs:{label:"Description"+(e.descTooLong?" ("+e.description.length+"/"+e.descLimit+")":""),outlined:"",autogrow:"",rules:[function(){return!!e.description||"Please provide a reason for this Fine"},function(){return!e.descTooLong||"Maximum "+e.descLimit+" characters allowed"}]},model:{value:e.description,callback:function(n){e.description=n},expression:"description"}}),t("div",{staticClass:"col-12"},[t("q-btn",{attrs:{label:"Assign",color:"primary",unelevated:"",loading:e.createLoading},on:{click:e.assignFine}}),t("q-btn",{attrs:{label:"Reset",color:"primary",flat:""},on:{click:e.resetForm}})],1)],1):e._e()],1)},s=[],a=(t("e01a"),t("c9d9")),l=t("7338"),o=t("0286"),r=t("6308"),c={name:"FineAssignment",mixins:[l["a"]],data(){return{fineType:null,ids:null,amount:null,deadline:null,delayFine:null,description:null,descLimit:200,FINE_TYPES:a["c"],fineOptions:r["b"]}},computed:{descTooLong(){return!!this.description&&this.description.length>this.descLimit}},methods:{noNegative:o["c"],assignFine(){this.callCreateApi("/fine/assign",{fineType:this.fineType,ids:this.ids,amount:this.amount,deadline:new Date(this.deadline),delayFine:this.delayFine,description:this.description},"Fine").catch((()=>{}))},resetForm(){this.ids=null,this.amount=null,this.deadline=null,this.delayFine=null,this.description=null}}},d=c,u=t("2877"),p=t("9989"),m=t("ddd8"),f=t("0378"),y=t("27f9"),b=t("0016"),h=t("7cbe"),F=t("52ee"),g=t("9c40"),v=t("7f67"),q=t("eebe"),T=t.n(q),w=Object(u["a"])(d,i,s,!1,null,null,null);n["default"]=w.exports;T()(w,"components",{QPage:p["a"],QSelect:m["a"],QForm:f["a"],QInput:y["a"],QIcon:b["a"],QPopupProxy:h["a"],QDate:F["a"],QBtn:g["a"]}),T()(w,"directives",{ClosePopup:v["a"]})}}]);