(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"1b25":function(t,e,s){},"3b79":function(t,e,s){"use strict";s("7cd1")},4009:function(t,e){const s=t=>{const e=t.toLocaleString("default",{month:"long"}),s=t.getUTCDate(),a=t.getUTCFullYear();return e+" "+s+", "+a};t.exports={parseIssueDate:s}},"7cd1":function(t,e,s){},"91fe":function(t,e,s){"use strict";s("ecc2")},a599:function(t,e,s){},de87:function(t,e,s){"use strict";s("1b25")},e88a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.pageLoaded,expression:"pageLoaded"}],staticClass:"container"},[s("div",{staticClass:"issue-header"},[s("div",{staticClass:"issue-header-row"},[s("h4",[t._v(t._s(t.issueDetails.title))]),t.issueDetails.courseSession?s("q-chip",{staticStyle:{"margin-top":"56px","margin-left":"20px"},attrs:{color:"teal","text-color":"white"}},[t._v(t._s(t.issueDetails.courseSession.course.courseID)+":\n        "+t._s(t.issueDetails.courseSession.course.title)+" ")]):t._e()],1),s("div",{staticClass:"issue-header-row"},["unresolved"===t.issueDetails.status?s("q-chip",{staticClass:"bg-deep-orange-9",staticStyle:{"margin-top":"20px"},attrs:{"text-color":"white",icon:"error",size:"15px"}},[t._v("Unresolved")]):t._e(),"resolved"===t.issueDetails.status?s("q-chip",{staticClass:"bg-positive",staticStyle:{"margin-top":"20px"},attrs:{"text-color":"white",icon:"check_circle",size:"15px"}},[t._v("Resolved")]):t._e()],1),s("div",{staticClass:"issue-header-row",staticStyle:{"margin-top":"10px"}},[t._m(0),t._l(t.issueDetails.students,(function(e){return s("q-chip",{key:e,attrs:{color:"black","text-color":"white",square:"",outline:""}},[t._v(t._s(e))])}))],2),s("div",{staticClass:"issue-header-row space-between",staticStyle:{"margin-top":"10px"}},[t.issueDetails.teachers?s("div",[t._m(1),t._l(t.issueDetails.teachers,(function(e){return s("q-chip",{key:e._id,attrs:{color:"black","text-color":"white",square:"",outline:""}},[t._v(" "+t._s(e.name))])}))],2):t._e(),t.issueDetails.issueCreator&&t.issueDetails.issueCreator.id===t.user.id?s("q-btn",{staticClass:"resolve-btn",attrs:{disable:t.buttonLoading,color:"teal",label:t.resolveButtonText,icon:t.resolveButtonIcon,"no-caps":""},on:{click:t.resolveClicked}}):t._e()],1)]),s("q-separator",{staticClass:"bg-blue-2 separator",attrs:{inset:"true"}}),t._l(t.issueDetails.posts,(function(e,a){return s("div",{key:a},["activity"===e.postType?s("div",[s("user-activity",{attrs:{"image-link":"https://avatars.githubusercontent.com/u/31519659?s=80&v=4","user-name":e.author.name,date:e.date,activity:e.description}})],1):t._e(),"comment"===e.postType?s("div",[s("user-comment",{attrs:{"image-link":"https://avatars.githubusercontent.com/u/32516061?s=80&v=4","user-name":e.author.name,date:e.date,comment:e.description}})],1):t._e()])})),s("editor",{attrs:{imageLink:"https://avatars.githubusercontent.com/u/32516061?s=80&v=4"},on:{submitClicked:t.addComment}}),s("q-dialog",{attrs:{persistent:""},model:{value:t.resolveFlag,callback:function(e){t.resolveFlag=e},expression:"resolveFlag"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("span",{staticClass:"q-ml-sm"},[t._v("Are you sure you want to "+t._s(t.resolveButtonText.toLowerCase())+"?")])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.resolveButtonText,color:"primary"},on:{click:t.submitButtonClicked}})],1)],1)],1)],2)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-col-1"},[s("b",[t._v("Students:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"header-col-1"},[s("b",[t._v("Current Audience:")])])}],o=s("ded3"),n=s.n(o),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-row"},[s("div",{staticClass:"img-left"},[s("img",{attrs:{src:t.imageLink,width:"40",height:"40",alt:t.userName}})]),s("div",{staticClass:"text-bubble"},[s("div",{staticClass:"bubble-top-slot"},[s("span",{staticClass:"top-icon"},[s("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"message"}})],1),s("span",[s("b",[t._v(t._s(t.userName))]),t._v(" commented on "+t._s(t.convertedDate))])]),s("div",{staticClass:"bubble-down-slot",domProps:{innerHTML:t._s(t.comment)}})])])},c=[],l=s("4009"),u={name:"Comment",props:{imageLink:String,userName:String,date:String,comment:String},created(){this.date&&(this.convertedDate=Object(l["parseIssueDate"])(new Date(this.date)))},data(){return{convertedDate:""}}},d=u,m=(s("de87"),s("2877")),p=s("0016"),v=s("eebe"),h=s.n(v),b=Object(m["a"])(d,r,c,!1,null,"3de6ab30",null),g=b.exports;h()(b,"components",{QIcon:p["a"]});var C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-row"},[s("div",{staticClass:"img-left"},[s("img",{attrs:{src:t.imageLink,width:"40",height:"40",alt:t.userName}})]),s("div",{staticClass:"text-bubble"},[s("div",{staticClass:"bubble-single-slot"},[s("span",{staticClass:"top-icon"},[s("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:t.topSlotIcon}})],1),s("span",[s("b",[t._v(t._s(t.userName))])]),t._v("Â \n      "),s("span",{domProps:{innerHTML:t._s(this.parsedActivity)}}),s("span",[t._v(" on "+t._s(t.convertedDate))])])])])},_=[],f={name:"Activity",props:{imageLink:String,userName:String,date:String,activity:String},created(){this.date&&(this.convertedDate=Object(l["parseIssueDate"])(new Date(this.date))),this.parsedActivity=this.activity;const t=this.activity.split(" ")[0];if("has"===t||"updated"===t){this.topSlotIcon="edit";const t=this.activity.lastIndexOf(" ");this.parsedActivity=this.activity.substr(0,t)+"<b>"+this.activity.substr(t)+"</b>"}else"reopened"===t?this.topSlotIcon="report_gmailerrorred":"created"===t?this.topSlotIcon="note_add":"closed"===t&&(this.topSlotIcon="done_all")},data(){return{topSlotIcon:"",parsedActivity:"",convertedDate:""}}},y=f,w=(s("f2a2"),Object(m["a"])(y,C,_,!1,null,"6a17f301",null)),D=w.exports;h()(w,"components",{QIcon:p["a"]});var x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-row"},[s("div",{staticClass:"img-left"},[s("img",{attrs:{src:t.imageLink,width:"40",height:"40",alt:"user"}})]),s("div",{staticClass:"text-bubble button-row"},[s("div",{staticClass:"bubble-top-slot"},[t._v("Add a comment:")]),s("div",{staticClass:"bubble-down-slot"},[s("q-editor",{staticClass:"text-editor",attrs:{"toolbar-toggle-color":"blue","min-height":"5rem"},model:{value:t.editorText,callback:function(e){t.editorText=e},expression:"editorText"}})],1),s("q-btn",{staticStyle:{"margin-left":"900px"},attrs:{color:"blue-4",label:"Comment","no-caps":"",disable:!t.editorText},on:{click:t.submitButtonClicked}})],1)])},S=[],k={name:"Editor",props:{imageLink:String},methods:{submitButtonClicked(t){this.$emit("submitClicked",this.editorText),this.editorText=""}},data(){return{editorText:"",items:[{value:"SlowDecay",label:"SlowDecay"},{value:"MahirSez",label:"MahirSez"}]}}},I=k,L=(s("3b79"),s("d66b")),q=s("9c40"),T=Object(m["a"])(I,x,S,!1,null,"77de542d",null),B=T.exports;h()(T,"components",{QEditor:L["a"],QBtn:q["a"]});var N=s("2f62");const{mapActions:$}=Object(N["a"])("issues"),A="https://avatars.githubusercontent.com/u/31519659?s=80&amp;v=4",Q="https://avatars.githubusercontent.com/u/32516061?s=80&amp;v=4";var O={name:"IssuePage.vue",components:{"user-comment":g,"user-activity":D,editor:B},computed:n()(n()({},Object(N["d"])("issues",{issueDetails:"issueDetails"})),Object(N["d"])(["user"])),async created(){this.pageLoaded=!1,this.$q.loading.show({delay:100,message:"Loading...",messageColor:"white"}),await this.fetchIssueDetails({issueID:this.$route.params.issueID}),this.setPageVariables(),this.$q.loading.hide(),this.pageLoaded=!0},watch:{async"$route.params"(t,e){this.$route.params.issueID&&(await this.fetchIssueDetails({issueID:this.$route.params.issueID}),this.setPageVariables())}},methods:n()(n()({},$(["fetchIssueDetails","sendComment","changeIssueStatus"])),{},{setPageVariables(){"unresolved"===this.issueDetails.status?(this.resolveButtonIcon="check_circle",this.resolveButtonText="Mark As Resolved"):(this.resolveButtonText="Reopen Issue",this.resolveButtonIcon="replay")},resolveClicked(t){t.preventDefault(),this.resolveFlag=!0},async submitButtonClicked(t){t.preventDefault();const e=this.$q.notify({message:"Updating...",position:"bottom-left",group:!1,timeout:0,spinner:!0});this.resolveFlag=!1,this.buttonLoading=!0,await this.changeIssueStatus(),this.setPageVariables(),this.buttonLoading=!1,e({icon:"done",spinner:!1,message:"Updated",timeout:1500})},async addComment(t){await this.sendComment({comment:t})}}),data(){return{pageLoaded:"",buttonLoading:!1,resolveButtonIcon:"",resolveButtonText:"",resolveFlag:!1,issueEntries:[{type:"activity",imageLink:A,userName:"SlowDecay",date:"June 1",activity:"created this issue"},{type:"comment",imageLink:A,userName:"SlowDecay",date:"June 1",comment:"Marks diye dei"},{type:"comment",imageLink:Q,userName:"MahirSez",date:"June 2",comment:"No"},{type:"activity",imageLink:Q,userName:"MahirSez",date:"June 3",activity:"updated Marks"},{type:"comment",imageLink:A,userName:"SlowDecay",date:"June 3",comment:"Bleh bleh bleh"}]}}},j=O,E=(s("91fe"),s("b047")),M=s("eb85"),z=s("24e8"),P=s("f09f"),F=s("a370"),J=s("4b7e"),U=s("7f67"),V=Object(m["a"])(j,a,i,!1,null,"684d0c47",null);e["default"]=V.exports;h()(V,"components",{QChip:E["a"],QBtn:q["a"],QSeparator:M["a"],QDialog:z["a"],QCard:P["a"],QCardSection:F["a"],QCardActions:J["a"]}),h()(V,"directives",{ClosePopup:U["a"]})},ecc2:function(t,e,s){},f2a2:function(t,e,s){"use strict";s("a599")}}]);