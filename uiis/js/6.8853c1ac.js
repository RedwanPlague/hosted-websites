(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"34e8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-sm"},[a("h6",{staticClass:"q-mb-none"},[t._v(t._s(t.info.courseID+" - "+t.info.courseTitle))]),t.courseLoading?a("h3",[t._v("Loading")]):a("div",[a("div",[t._l(t.allTeacherInfo,(function(t,e){return a("q-table",{key:e,staticClass:"q-mt-lg",attrs:{title:t.teacherName,data:t.deho,columns:t.mathas,separator:"cell","row-key":"studentID"}})})),a("q-table",{staticClass:"q-mt-lg",attrs:{title:"Term Final",data:t.tfInfo.deho,columns:t.tfInfo.mathas,separator:"cell","row-key":"studentID"}})],2),a("q-btn",{staticClass:"q-mt-xl",attrs:{color:"primary",label:"Forward to department head",disable:t.hasApprovedResult||!t.allCompleted},on:{click:t.forwardResult}})],1)])},n=[],r=a("ded3"),o=a.n(r),i=(a("ddb0"),a("2f62")),l=a("758b"),c=(a("bc78"),{name:"ScrutinizerTable",data(){return{}},methods:o()(o()({},Object(i["b"])("scrutinizer",["fillSingleCourse"])),{},{async forwardResult(){await l["b"].put(`/teacher/scrutinizer/${this.info.courseID}/${this.currentSession}/approve`),this.$store.commit("scrutinizer/mutHasApprovedResult")}}),computed:o()(o()({},Object(i["c"])("scrutinizer",{info:"currentCourseInfo",attTotal:"attTotal",attStudent:"attStudent",evalTotal:"evalTotal",evalStudent:"evalStudent",tfTotal:"tfTotal",tfStudent:"tfStudent",courseLoading:"courseLoading",hasApprovedResult:"hasApprovedResult",currentSession:"currentSession"})),{},{allCompleted(){console.log(this.info);for(const t of this.info.students){for(const e of this.info.teachers){if("NA"===this.attStudent(e.teacher,t.student.id))return!1;for(const a of e.evalDescriptions)if("NA"===this.evalStudent(e.teacher,a.evalID,t.student.id))return!1}for(const e of this.info.examiners)if("NA"===this.tfStudent(e.teacher,e.part,t.student.id))return!1}return!0},allTeacherInfo(){const t=[];for(const e of this.info.teachers){const a=[],s=[],n={name:"studentID",label:"Student ID",field:"studentID",sortable:!0,headerClasses:"bg-primary text-white",align:"center"};a.push(n);const r={name:"attendance",label:`Attendance Count (${this.attTotal(e.teacher)})`,field:"attendance",sortable:!0,align:"center",headerClasses:"bg-primary text-white"};a.push(r);for(const t of e.evalDescriptions){const s={name:`eval_${t.evalID}`,label:`Eval-${t.evalID} (${this.evalTotal(e.teacher,t.evalID)})`,field:`eval_${t.evalID}`,sortable:!0,align:"center",headerClasses:"bg-primary text-white"};a.push(s)}for(const t of this.info.students){const a={};a["studentID"]=t.student.id,a["attendance"]=this.attStudent(e.teacher,t.student.id);for(const s of e.evalDescriptions)a[`eval_${s.evalID}`]=this.evalStudent(e.teacher,s.evalID,t.student.id);s.push(a)}const o=this.info.names[e.teacher];t.push({teacherName:o,mathas:a,deho:s})}return t},tfInfo(){const t=[],e=[],a={name:"studentID",label:"Student ID",field:"studentID",sortable:!0,headerClasses:"bg-primary text-white",align:"center"};t.push(a);for(const s of this.info.examiners){const e={name:`tf_${s.teacher}_${s.part}`,label:`${this.info.names[s.teacher]} - Part ${s.part} (${this.tfTotal(s.teacher,s.part)})`,field:`tf_${s.teacher}_${s.part}`,sortable:!0,align:"center",headerClasses:"bg-primary text-white"};t.push(e)}for(const s of this.info.students){const t={};t["studentID"]=s.student.id;for(const e of this.info.examiners)t[`tf_${e.teacher}_${e.part}`]=this.tfStudent(e.teacher,e.part,s.student.id);e.push(t)}return{mathas:t,deho:e}}}),async created(){await this.fillSingleCourse(),console.log("hemlo")}}),d=c,u=a("2877"),h=a("eaac"),f=a("9c40"),p=a("eebe"),m=a.n(p),b=Object(u["a"])(d,s,n,!1,null,"e500f3f0",null);e["default"]=b.exports;m()(b,"components",{QTable:h["a"],QBtn:f["a"]})}}]);